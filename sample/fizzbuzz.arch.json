{
    "$ref": "https://raw.githubusercontent.com/wraith13/jsonarch/master/template-json-schema.json#",
    "$arch": "template",
    "default":
    {
        "parameter": { "length": 100 }
    },
    "return":
    {
        "$arch": "loop",
        "loop":
        {
            "$arch": "match",
            "parameter":
            {
                "i":
                {
                    "$arch": "call", "refer": [ "number", "sum" ],
                    "parameter":
                    [
                        { "$arch": "value", "refer": [ "scope", "$loop", "index" ] },
                        1
                    ]
                },
                "max": { "$arch": "value", "refer": [ "parameter" ] }
            },
            "cases":
            [
                {
                    "case":
                    {
                        "if":
                        {
                            "$arch": "call",
                            "refer": [ "object", "equal" ],
                            "parameter":
                            [
                                {
                                    "$arch": "call",
                                    "refer": [ "number", "compare" ],
                                    "parameter":
                                    [
                                        { "$arch": "value", "refer": [ "parameter", "i" ] },
                                        { "$arch": "value", "refer": [ "parameter", "max" ] }
                                    ]
                                },
                                ">"
                            ]
                        }
                    },
                    "return":
                    {
                        "continue": false
                    }
                },
                {
                    "case":
                    {
                        "if":
                        {
                            "$arch": "call",
                            "refer": [ "object", "equal" ],
                            "parameter":
                            [
                                {
                                    "$arch": "call", "refer": [ "number", "remainder" ],
                                    "parameter":
                                    [
                                        { "$arch": "value", "refer": [ "parameter", "i" ] },
                                        15
                                    ]
                                },
                                0
                            ]
                        }
                    },
                    "return":
                    {
                        "return": "FizzBuzz"
                    }
                },
                {
                    "case":
                    {
                        "if":
                        {
                            "$arch": "call",
                            "refer": [ "object", "equal" ],
                            "parameter":
                            [
                                {
                                    "$arch": "call", "refer": [ "number", "remainder" ],
                                    "parameter":
                                    [
                                        { "$arch": "value", "refer": [ "parameter", "i" ] },
                                        3
                                    ]
                                },
                                0
                            ]
                        }
                    },
                    "return":
                    {
                        "return": "Fizz"
                    }
                },
                {
                    "case":
                    {
                        "if":
                        {
                            "$arch": "call",
                            "refer": [ "object", "equal" ],
                            "parameter":
                            [
                                {
                                    "$arch": "call", "refer": [ "number", "remainder" ],
                                    "parameter":
                                    [
                                        { "$arch": "value", "refer": [ "parameter", "i" ] },
                                        5
                                    ]
                                },
                                0
                            ]
                        }
                    },
                    "return":
                    {
                        "return": "Buzz"
                    }
                },
                {
                    "return":
                    {
                        "return": { "$arch": "value", "refer": [ "parameter", "i" ] }
                    }
                }
            ]
        }
    }
}
